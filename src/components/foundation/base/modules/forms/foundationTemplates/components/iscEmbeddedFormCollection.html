<div class="subform embedded-collection">
  <!--Table Display-->
  <div class="grid-block vertical">

    <!--Collection layout-->
    <div class="grid-block"
         ng-if="efCollectionCtrl.collectionLayout"
         ng-include="'forms/collectionLayouts/' + efCollectionCtrl.collectionLayout + '.html'">
    </div>

    <div class="grid-block"
         ng-if="!efCollectionCtrl.collectionLayout"
         ng-include="'forms/collectionLayouts/table.html'">
    </div>

    <!--Add Button-->
    <div class="grid-block grid-content collapse clearfix"
         ng-hide="efCollectionCtrl.renderForm">
      <button class="button float-left small embedded-form-add"
              type="button"
              ng-class="{'disabled' : efCollectionCtrl.isAddItemDisabled()}"
              ng-disabled="efCollectionCtrl.isAddItemDisabled()"
              ng-if="efCollectionCtrl.mode != 'view'"
              ng-click="efCollectionCtrl.newForm()">
        <i class="fa fa-plus"></i> {{'Add' | translate}} {{efCollectionCtrl.label | translate}}
      </button>
    </div>
  </div>


  <!--Modal Editor-->
  <div zf-modal
       name="{{efCollectionCtrl.modalName}}"
       class="collapse"
       id="{{efCollectionCtrl.modalName}}"
       overlay-close="false">
    <div class="primary title-bar">
      <div class="center title">
        {{ ((efCollectionCtrl.isNew ? 'Add' : 'Edit') | translate ) + ' ' + (efCollectionCtrl.label | translate) }}
      </div>
    </div>

    <div class="collection-form modal" ng-include="'forms/foundationTemplates/templates/embeddedFormEditor.html'"
         ng-if="efCollectionCtrl.editAs==='modal'"></div>
  </div>

  <!--Inline Editor-->
  <div class="collection-form" ng-include="'forms/foundationTemplates/templates/embeddedFormEditor.html'"
       ng-if="efCollectionCtrl.editAs==='inline'"></div>


</div>
